<UserControl x:Class="ParticleMaker.UserControls.NumericUpDown"
             xmlns:this="clr-namespace:ParticleMaker.UserControls"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ParticleMaker.UserControls" Background="White"
             mc:Ignorable="d" Height="30" MinHeight="30" MaxHeight="30">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!--The control label text-->
        <Label Grid.Column="0" Grid.Row="0">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <Label Padding="0, 0, 0, 0" VerticalContentAlignment="Center"
                       Content="{Binding Path=LabelText}"/>
                <Label Content=":" Padding="0" VerticalContentAlignment="Center"
                       Visibility="{Binding Path=IsLabelVisible, Mode=TwoWay}">
                </Label>
            </StackPanel>
        </Label>
        
        <!--Holds the value of the up down control-->
        <TextBox x:Name="ValueTextbox" Grid.Column="1" Grid.Row="0" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                 PreviewKeyDown="TextBox_PreviewKeyDown" MinWidth="50"
                 Text="{Binding Path=Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
        </TextBox>

        <Grid Grid.Column="2" Grid.Row="0" Margin="5, 0, 0, 0">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>

            <!--Value Up Button-->
            <Canvas Width="25" Height="25" Grid.Row="0" Margin="0, 0, 0, 0.5">
                <Polygon Name="UpArrowPolygon"
                         Points="12.5,0.5 24.5,11 0.5,11"
                         Stroke="Gray"
                         StrokeThickness="0.5" MouseUp="UpArrowPolygon_MouseUp">
                    <Polygon.Style>
                        <Style TargetType="{x:Type Polygon}">
                            <Setter Property="Fill" Value="Gray"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Fill" Value="LightGray"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Polygon.Style>
                </Polygon>
            </Canvas>

            <!--Value Down Button-->
            <Canvas Grid.Row="1" Width="25" MaxWidth="25" Height="25" Margin="0, 0.5, 0, 0">
                <Polygon Name="DownArrowPolygon"
                         Points="0.5,1 24.5,1 12.5,11.5"
                         Stroke="Gray"
                         StrokeThickness="0.5" MouseUp="DownArrowPolygon_MouseUp">
                    <Polygon.Style>
                        <Style TargetType="{x:Type Polygon}">
                            <Setter Property="Fill" Value="Gray"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Fill" Value="LightGray"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Polygon.Style>
                </Polygon>
            </Canvas>
        </Grid>
    </Grid>
</UserControl>
