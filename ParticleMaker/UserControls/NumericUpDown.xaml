<UserControl x:Class="ParticleMaker.UserControls.NumericUpDown"
             xmlns:this="clr-namespace:ParticleMaker.UserControls"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             Background="White" mc:Ignorable="d"
             MinHeight="35" MaxHeight="30"
             Name="this">
    <Grid DataContext="{Binding ElementName=this}">
        <Grid.RowDefinitions>
            <RowDefinition Height="35"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!--The control label text-->
        <Label Grid.Column="0" Grid.Row="0" VerticalAlignment="Center">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <Label VerticalContentAlignment="Center"
                       Content="{Binding Path=LabelText, Mode=OneWay}"/>
                <Label Content=":" Padding="0" VerticalContentAlignment="Center"
                       Visibility="{Binding Path=IsLabelVisible, Mode=TwoWay}">
                </Label>
            </StackPanel>
        </Label>
        
        <!--Holds the value of the up down control-->
        <TextBox x:Name="ValueTextbox" Grid.Column="1" Grid.Row="0" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                 PreviewKeyDown="TextBox_PreviewKeyDown" MinWidth="50"
                 Text="{Binding Path=Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ElementName=this}">
        </TextBox>

        <Grid Grid.Column="2" Grid.Row="0" Margin="5, 0, 0, 0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!--Value Up Button-->
            <Canvas Grid.Row="0" Width="25" Height="15">
                <Polygon Name="UpArrowPolygon"
                         Points="12.5,1 23,13 2,13"
                         Stroke="Gray"
                         StrokeThickness="0.5" MouseUp="UpArrowPolygon_MouseUp">
                    <Polygon.Style>
                        <Style TargetType="{x:Type Polygon}">
                            <Setter Property="Fill" Value="Gray"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Fill" Value="LightGray"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Polygon.Style>
                </Polygon>
            </Canvas>

            <!--Value Down Button-->
            <Canvas Grid.Row="1" Width="25" Height="15">
                <Polygon Name="DownArrowPolygon"
                            Points="2,2 23,2 12.5,14"
                            Stroke="Gray"
                            StrokeThickness="0.5" MouseUp="DownArrowPolygon_MouseUp">
                    <Polygon.Style>
                        <Style TargetType="{x:Type Polygon}">
                            <Setter Property="Fill" Value="Gray"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Fill" Value="LightGray"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Polygon.Style>
                </Polygon>
            </Canvas>
        </Grid>
    </Grid>
</UserControl>
